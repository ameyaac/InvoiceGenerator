<div class="card m-5 p-3">
    <table class="container">
        <thead>
            <tr class="row">
                <th class="col-8">Item</th>
                <th class="col">Quantity</th>
                <th class="col">Rate</th>
                <th class="col">Amount</th>
                <th class="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor = "let item of items; let i = index" class="row">
                <td class="col-8 d-flex">
                    <input type="text" class="form-control" maxlength="100" [(ngModel)]="item.description">
                    <button class="btn btn-warning" (click)="toggleComment(i)" [ngClass]="(item.showComment) ? 'bi-chat-left-text-fill' : 'bi-chat-left-text'"></button>
                </td>
                <td class="col"><input type="number" class="form-control" max="10" min="0" step="0.1" [(ngModel)]="item.quatity" (input)="calculateAmount(i)"></td>
                <td class="col"><input type="number" class="form-control" min="0.0" step="0.01" [ngModel]="item.rate | number: '1.2-2'" (ngModelChange)="item.rate=$event" (input)="calculateAmount(i)"></td>
                <td class="col"><input type="number" class="form-control" min="0.0" step="0.01" [value]="item.amount | number: '1.2-2'"></td>
                <td class="col">
                    <button class="btn btn-danger bi-trash" (click)="removeItem(i)"></button>
                </td>
                <td colspan="5">
                    <textarea *ngIf="item.showComment" [(ngModel)]="item.comment" class="form-control" placeholder="Enter additional comments..."></textarea>
                </td>
            </tr>
            <tr>
                <td class="d-flex flex-row-reverse">
                    <button class="btn btn-primary" (click)="addItem()"><i class="bi-plus"> </i>Add Item</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- 
    * The "banana" syntax is for 2-way binding
    * (usually action) for "sending" data
    * [var?] for "receiving" data
-->